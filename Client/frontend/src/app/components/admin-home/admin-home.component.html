<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="mode">
        <button type="button" class="btn btn-secondary" *ngIf="users_mode==false" (click)="toggle()">Farmers</button>
        <button type="button" class="btn btn-secondary" *ngIf="users_mode==true" (click)="toggle()">Companies</button>
    </div>
    <div class="xd">
        <table class="table table-hover table-dark" *ngIf="users_mode==false">
            <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Full Name</th>
                  <th scope="col">Abbreviation</th>
                  <th scope="col">Password</th>
                  <th scope="col">Founding Date</th>
                  <th scope="col">Place</th>
                  <th scope='col'>Email</th>
                  <th scope='col'>Accept</th>
                  <th scope='col'>Decline</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let request of company_requests, let i = index">
                    <td scope="row">{{i+1}}</td>
                    <td>{{request.full_name}}</td>
                    <td>{{request.abbreviation}}</td>
                    <td>{{request.password}}</td>
                    <td>{{request.founding_date.getUTCDate()}}/{{request.founding_date.getUTCMonth()+1}}/{{request.founding_date.getUTCFullYear()}}</td>
                    <td>{{request.place}}</td>
                    <td>{{request.email}}</td>
                    <td>
                        <a href="javascript:void(0)" matTooltip="accept" matTooltipPosition="after" (click)="acceptRequest(request)" class="accept">
                            <svg class="bi bi-check-circle" width="2em" height="2em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M15.354 2.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L8 9.293l6.646-6.647a.5.5 0 01.708 0z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M8 2.5A5.5 5.5 0 1013.5 8a.5.5 0 011 0 6.5 6.5 0 11-3.25-5.63.5.5 0 11-.5.865A5.472 5.472 0 008 2.5z" clip-rule="evenodd"/>
                            </svg>
                        </a>
                    </td>
                    <td>
                        <a href="javascript:void(0)" matTooltip="decline" matTooltipPosition="after" (click)="declineRequest(request)" class="decline">
                            <svg class="bi bi-x-circle-fill" width="2em" height="2em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M16 8A8 8 0 110 8a8 8 0 0116 0zm-4.146-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708-.708L8.707 8l3.147-3.146z" clip-rule="evenodd"/>
                            </svg>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-hover table-dark" *ngIf="users_mode==true">
            <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">First Name</th>
                  <th scope="col">Last Name</th>
                  <th scope="col">Username</th>
                  <th scope="col">Password</th>
                  <th scope="col">Date of Birth</th>
                  <th scope='col'>Place of Birth</th>
                  <th scope='col'>Phone</th>
                  <th scope='col'>Email</th>
                  <th scope='col'>Accept</th>
                  <th scope='col'>Decline</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let request of user_requests, let i = index">
                    <td scope="row">{{i+1}}</td>
                    <td>{{request.first_name}}</td>
                    <td>{{request.last_name}}</td>
                    <td>{{request.username}}</td>
                    <td>{{request.password}}</td>
                    <td>{{request.date_of_birth.getUTCDate()}}/{{request.date_of_birth.getUTCMonth()+1}}/{{request.date_of_birth.getUTCFullYear()}}</td>
                    <td>{{request.place_of_birth}}</td>
                    <td>{{request.phone}}</td>
                    <td>{{request.email}}</td>
                    <td>
                        <a href="javascript:void(0)" matTooltip="accept" matTooltipPosition="after" (click)="acceptRequest(request)" class="accept">
                            <svg class="bi bi-check-circle" width="2em" height="2em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M15.354 2.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L8 9.293l6.646-6.647a.5.5 0 01.708 0z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M8 2.5A5.5 5.5 0 1013.5 8a.5.5 0 011 0 6.5 6.5 0 11-3.25-5.63.5.5 0 11-.5.865A5.472 5.472 0 008 2.5z" clip-rule="evenodd"/>
                            </svg>
                        </a>
                    </td>
                    <td>
                        <a href="javascript:void(0)" matTooltip="decline" matTooltipPosition="after" (click)="declineRequest(request)" class="decline">
                            <svg class="bi bi-x-circle-fill" width="2em" height="2em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M16 8A8 8 0 110 8a8 8 0 0116 0zm-4.146-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708-.708L8.707 8l3.147-3.146z" clip-rule="evenodd"/>
                            </svg>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>
